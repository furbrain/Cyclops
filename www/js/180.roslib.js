(this.webpackChunkROSLIB=this.webpackChunkROSLIB||[]).push([[180],{180:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>n});var t=a(311);function n(e,r){var a=new Buffer(e,"base64");t.parse(a,function(e,a){if(e)console.warn("Cannot process PNG encoded message ");else{var t=a.data.toString();r(JSON.parse(t))}})}},208:()=>{},242:()=>{},311:(e,r,a)=>{var t=a(208),n=a(605),s=a(242),i=new Buffer("89504e470d0a1a0a","hex");function c(e,r,a,t,n){this.width=e,this.height=r,this.channels=a,this.data=t,this.trailer=n}function o(e,r,a){var t=e+r-a,n=Math.abs(t-e),s=Math.abs(t-r),i=Math.abs(t-a);return n<=s&&n<=i?e:s<=i?r:a}c.prototype.getPixel=function(e,r){if(r|=0,(e|=0)<0||r<0||e>=this.width||r>=this.height)return 0;var a,t,n,s,i=(r*this.width+e)*this.channels;switch(this.channels){case 1:a=t=n=this.data[i],s=255;break;case 2:a=t=n=this.data[i],s=this.data[i+1];break;case 3:a=this.data[i],t=this.data[i+1],n=this.data[i+2],s=255;break;case 4:a=this.data[i],t=this.data[i+1],n=this.data[i+2],s=this.data[i+3]}return(a<<24|t<<16|n<<8|s)>>>0},r.parseStream=function(e,r){var a,t,n,f,d,u,h,l,b,p,k,w,E,y,I,B,v,m,U=s.createInflate(),g=0,S=0,N=new Buffer(13),M=2,P=-1,R=0,C=0,x=0;function D(a){return e.destroy&&e.destroy(),U.destroy&&U.destroy(),r(a)}function G(){if(! --M)return r(void 0,new c(t,n,m,h,I))}e.on("error",D),U.on("error",D),e.on("end",function(){return e.destroy(),h&&I?G():D(new Error("Corrupt PNG?"))}),U.on("end",function(){return U.destroy&&U.destroy(),R!==h.length?D(new Error("Too little pixel data! (Corrupt PNG?)")):G()}),e.on("data",function(r){if(e.readable)for(var s,c,o=r.length,y=0;y!==o;)switch(g){case 0:if(r[y++]!==i[S++])return D(new Error("Invalid PNG header."));S===i.length&&(g=1,S=0);break;case 1:if(o-y<8-S)r.copy(N,S,y),S+=o-y,y=o;else switch(r.copy(N,S,y,y+8-S),y+=8-S,S=0,a=N.readUInt32BE(0),N.toString("ascii",4,8)){case"IHDR":g=2;break;case"PLTE":if(3!==u)g=7;else{if(a%3!=0)return D(new Error("Invalid PLTE size."));C=a/3,B=new Buffer(a),g=3}break;case"tRNS":if(3!==u)return D(new Error("tRNS for non-paletted images not yet supported."));m++,x=a,v=new Buffer(a),g=4;break;case"IDAT":h||(h=new Buffer(t*n*m)),g=5;break;case"IEND":g=6;break;default:g=7}break;case 2:if(13!==a)return D(new Error("Invalid IHDR chunk."));if(o-y<a-S)r.copy(N,S,y),S+=o-y,y=o;else{if(r.copy(N,S,y,y+a-S),0!==N.readUInt8(10))return D(new Error("Unsupported compression method."));if(0!==N.readUInt8(11))return D(new Error("Unsupported filter method."));if(0!==N.readUInt8(12))return D(new Error("Unsupported interlace method."));switch(y+=a-S,g=8,S=0,t=N.readUInt32BE(0),n=N.readUInt32BE(4),f=N.readUInt8(8),d=255/((1<<f)-1),u=N.readUInt8(9)){case 0:l=1,b=Math.ceil(.125*f),m=1;break;case 2:l=3,b=Math.ceil(.375*f),m=3;break;case 3:l=1,b=1,m=3;break;case 4:l=2,b=Math.ceil(.25*f),m=2;break;case 6:l=4,b=Math.ceil(.5*f),m=4;break;default:return D(new Error("Unsupported color type: "+u))}p=Math.ceil(t*f*l/8),k=new Buffer(l),w=new Buffer(p),E=new Buffer(p),w.fill(0)}break;case 3:if(o-y<a-S)r.copy(B,S,y),S+=o-y,y=o;else for(r.copy(B,S,y,y+a-S),y+=a-S,g=8,S=0,m=1,c=C;c--;)if(B[3*c+0]!==B[3*c+1]||B[3*c+0]!==B[3*c+2]){m=3;break}break;case 4:o-y<a-S?(r.copy(v,S,y),S+=o-y,y=o):(r.copy(v,S,y,y+a-S),y+=a-S,g=8,S=0);break;case 5:o-y<a-S?(U.write(r.slice(y)),S+=o-y,y=o):(U.write(r.slice(y,y+a-S)),y+=a-S,g=8,S=0);break;case 6:if(0!==a)return D(new Error("Invalid IEND chunk."));o-y<4-S?(S+=o-y,y=o):(I=new Buffer(0),y+=4-S,g=9,S=0,U.end());break;case 7:o-y<a-S?(S+=o-y,y=o):(y+=a-S,g=8,S=0);break;case 8:o-y<4-S?(S+=o-y,y=o):(y+=4-S,g=1,S=0);break;case 9:s=new Buffer(S+o-y),I.copy(s),r.copy(s,S,y,o),I=s,S+=o-y,y=o}}),U.on("data",function(e){if(U.readable){var r,a,n,s,i,c=e.length;for(r=0;r!==c;++r){if(-1===P)y=e[r],a=w,w=E,E=a;else switch(y){case 0:w[P]=e[r];break;case 1:w[P]=P<b?e[r]:e[r]+w[P-b]&255;break;case 2:w[P]=e[r]+E[P]&255;break;case 3:w[P]=e[r]+((P<b?E[P]:w[P-b]+E[P])>>>1)&255;break;case 4:w[P]=e[r]+(P<b?E[P]:o(w[P-b],E[P],E[P-b]))&255;break;default:return D(new Error("Unsupported scanline filter: "+y))}if(++P===p){if(R===h.length)return D(new Error("Too much pixel data! (Corrupt PNG?)"));for(s=0,n=0;n!==t;++n){for(i=0;i!==l;++s,++i)switch(f){case 1:k[i]=w[s>>>3]>>7-(7&s)&1;break;case 2:k[i]=w[s>>>2]>>(3-(3&s)<<1)&3;break;case 4:k[i]=w[s>>>1]>>(1-(1&s)<<2)&15;break;case 8:k[i]=w[s];break;default:return D(new Error("Unsupported bit depth: "+f))}switch(u){case 0:h[R++]=k[0]*d;break;case 2:h[R++]=k[0]*d,h[R++]=k[1]*d,h[R++]=k[2]*d;break;case 3:if(k[0]>=C)return D(new Error("Invalid palette index."));switch(m){case 1:h[R++]=B[3*k[0]];break;case 2:h[R++]=B[3*k[0]],h[R++]=k[0]<x?v[k[0]]:255;break;case 3:h[R++]=B[3*k[0]+0],h[R++]=B[3*k[0]+1],h[R++]=B[3*k[0]+2];break;case 4:h[R++]=B[3*k[0]+0],h[R++]=B[3*k[0]+1],h[R++]=B[3*k[0]+2],h[R++]=k[0]<x?v[k[0]]:255}break;case 4:h[R++]=k[0]*d,h[R++]=k[1]*d;break;case 6:h[R++]=k[0]*d,h[R++]=k[1]*d,h[R++]=k[2]*d,h[R++]=k[3]*d}}P=-1}}}})},r.parseFile=function(e,a){return r.parseStream(t.createReadStream(e),a)},r.parseBuffer=function(e,a){var t=new n.Stream;t.readable=!0,t.destroy=function(){t.readable=!1},r.parseStream(t,a),t.emit("data",e),t.readable&&t.emit("end")},r.parse=r.parseBuffer},605:()=>{}}]);